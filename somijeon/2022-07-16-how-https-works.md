---
layout: post
title:  "비전공자에게 HTTPS 인증 설명하기"
---

# 💡 비전공자에게 HTTPS 인증 설명하기

## 웹브라우저와 서버가 안전하게 통신하는 법

### 1. 주소창의 작은 자물쇠 - HTTPS

그동안 주의를 기울인 적 없던 주소창의 왼쪽에 작게 보이는 자물쇠 모양이 안전한 인터넷 사용에 어떻게 기여하고 있는지 알아보자.

- HTTP란?

HTTPS를 알려면 우선 HTTP(Hyper Text Transfer Protocol)에 대해 알아야 해. HTTP는 HTML 문서와 같은 리소스들을 가져올 수 있도록 해주는 규약 같은거야. 월드 와이드 웹(WWW)에서 클라이언트(웹브라우저)와 서버 사이에 데이터 교환을 가능하게 하는 거지. 클라이언트와 서버들은 개별적인 메시지를 교환해 통신하는데 보통 클라이언트는 어떤 페이지를 보여달라고 서버에 요청(requests)을 보내고 서버는 응답(responses)을 해.
([레퍼런스: MDN - HTTP 개요](https://developer.mozilla.org/ko/docs/Web/HTTP/Overview))

- HTTP의 보안 강화 버전 HTTPS

HTTP가 좀 더 안전하게 암호화되어 통신하는 것이 바로 HTTPS(Hyper Text Transfer Protocol **Secure**)야. 은행 계좌나, 보험, 이메일 서비스에 로그인하는 것처럼 민감한 데이터를 전송할 때 특히 중요하지. 사실상 로그인으로 사용자 인증을 하는 모든 웹사이트는 HTTPS를 사용해야 해. 구글 크롬 및 다른 브라우저들은 웹페이지가 안전하지 않으면 자물쇠 모양 대신 안전하지 않다는 표시를 해주고 있으니 새로운 페이지에 접속할 때는 항상 주소창에 눈길을 주면 좋겠지?  

### 2. 안전한지 안전하지 않은지 어떻게 알지? - SSL 인증

웹사이트의 안전성은 SSL 인증이 되었는지 아닌지를 보면 알 수 있지. 여기서 SSL은 Secure Sockets Layer의 약자야. 영어를 직역해도 딱히 무슨 말인지 감이 오지 않으니 뭘 하는 애인지 설명해볼게.   

SSL 인증은 SSL 핸드셰이크라고도 해. 악수를 통해 신호를 주고 받아 상대방을 확인하는 건데 웹브라우저와 인증 기관(Certificate Authority), 그리고 서버까지 3자 간의 악수가 일어나지. 사실 현재 대부분의 보안 연결은 SSL의 업그레이드 버전인 TLS(Transport Layer Security) 프로토콜을 통해 이루어지지만 사람들은 익숙한 SSL이란 이름으로 계속 부르고 있어.

> 🌟 키워드 알고 들어가기
>- 암호화(Encryption): 데이터를 복잡하게 만들어 알아보기 힘들게 하는 것  
>- 복호화(Decryption): 암호화된 복잡한 데이터를 해독하는 것  
>- 공개키(Public Key): 외부에 공개할 수 있는 키로 보통 데이터를 암호화하는 데 사용하며 개인키와 쌍으로 존재 (자물쇠 🔒)  
>- 개인키(Private Key): 발행자만이 아는 비밀 키로 보통 데이터를 복호화하는데 사용하며 공개키와 쌍으로 존재 (자물쇠를 여는 열쇠 🔑)  
  *! 공개키가 복호화를 하거나 개인키가 암호화를 하는 경우도 있다.*  
>- 비대칭 암호화(Asymmetric Encryption): 공개키와 개인키의 쌍으로 암호화 하는 것. 공개키만 가지고 암호를 푸는 것은 사실상 불가능하다.  
>- 대칭 암호화(Symmetric Encryption): 암호화/복호화에 동일한 키를 사용  

그럼 SSL 악수의 프로세스를 자세히 알아보자.
1. 서버 ➡️ 인증기관: 서버는 공개키(🔒)와 개인키(🔑)로 이루어진 비대칭키(🔐)를 생성해. 그리고 서버의 여러 사이트에 대한 정보와 공개키(🔒)가 담긴 Certificate Signing Request(CSR)를 인증 기관에 제출하지.  
2. 인증기관 ➡️ 서버 & 웹브라우저: 인증 기관이 서버의 사이트 검증 요청을 받고 검증이 확인되면 SSL 인증서를 제작해. 인증 기관은 제작한 인증서를 인증 기관의 개인키로 암호화해 서버로 전달하고 동시에 웹브라우저로는 자신의 공개키를 전달해.  
3. 서버 ➡️ 웹브라우저: 서버는 인증 기관에서 받은 인증서를 웹브라우저에 전달해.  
4. 웹브라우저(사이트 검증 중): 아까 이 인증서는 인증 기관의 개인키로 암호화 되었잖아? 그러니까 웹브라우저는 인증 기관에서 전달받은 인증 기관의 공개키로 이 인증서를 열어볼 수 있겠지? 브라우저가 사이트의 인증서를 열 수 있으면 검증받은 사이트인거고 인증서가 안 열리면 '뭔가 이상한 데서 만든 걸 인증서라고 들이미는구나!' 생각하는 거지.  
5. 웹브라우저(사이트를 신뢰함) ➡️ 서버: 열린 인증서 안에 최초로 인증 기관이 서버로부터 전달받은 사이트의 정보와 사이트의 공개키가 들어있을 거야. 그 공개키로 앞으로의 안전한 통신을 위해 데이터 암호화에 쓸 대칭키를 암호화해서 서버로 전달하는 거지.  
6. 서버: 사이트의 공개키(🔒)로 암호화한 대칭키니까 당연히 서버는 자신의 개인키(🔑)로 이 대칭키를 열 수 있겠지? 이제 이 키로 웹브라우저와 서버는 안전하게 데이터를 주고받을 수 있게 돼.  

![도움이 되는 이미지](https://user-images.githubusercontent.com/79065544/179356122-9070b36a-59b3-4385-b36b-25c8bb04268d.png)

([참고: 미닉스의 작은 이야기들 [웹툰04] SSL이란 무엇인가? 2/2](https://archive.ph/TkdiY/2f07cedcc34f76207cf616d1fa39fb0f2095c30a.png))
